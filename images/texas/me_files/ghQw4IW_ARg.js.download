if (self.CavalryLogger) { CavalryLogger.start_js(["m3bw6"]); }

__d("UFILiveVideoCommentSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LiveVideoCommentCreateSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"client_subscription_id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"text_delights_are_hidden",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},l=[{kind:"Literal",name:"size__height",value:80},{kind:"Literal",name:"size__width",value:80}],m={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},p=[m,n,o],q=[{kind:"Literal",name:"size__height",value:160},{kind:"Literal",name:"size__width",value:160}];m=[m];l={kind:"InlineFragment",type:"Sticker",selections:[{kind:"LinkedField",alias:"img",name:"image",storageKey:"image(size__height:80,size__width:80)",args:l,concreteType:"Image",plural:!1,selections:p},{kind:"LinkedField",alias:"img_2x",name:"image",storageKey:"image(size__height:160,size__width:160)",args:q,concreteType:"Image",plural:!1,selections:m},{kind:"LinkedField",alias:"sprite_img",name:"sprite_image",storageKey:"sprite_image(size__height:80,size__width:80)",args:l,concreteType:"Image",plural:!1,selections:m},{kind:"LinkedField",alias:"sprite_img_2x",name:"sprite_image",storageKey:"sprite_image(size__height:160,size__width:160)",args:q,concreteType:"Image",plural:!1,selections:m},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null}]};q={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null};p={kind:"InlineFragment",type:"Photo",selections:[q,{kind:"LinkedField",alias:"photo_img",name:"image",storageKey:"image(size__width:260)",args:[{kind:"Literal",name:"size__width",value:260}],concreteType:"Image",plural:!1,selections:p}]};n={kind:"InlineFragment",type:"Video",selections:[q,n,o]};o={kind:"ScalarField",alias:null,name:"external_url",args:null,storageKey:null};var r={kind:"ScalarField",alias:null,name:"article_author_name",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},t=[s],u={kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:t};t={kind:"LinkedField",alias:null,name:"article_relative_timestamp",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:t};var v={kind:"ScalarField",alias:null,name:"can_viewer_add_to_attachment",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"can_viewer_remove_from_attachment",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"can_viewer_add_suggested_to_attachment",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"can_viewer_remove_suggested_from_attachment",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"can_viewer_curate_attachment",args:null,storageKey:null},A=[{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},e,i,{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"overall_rating",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"price_range_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__height:60,size__width:60)",args:[{kind:"Literal",name:"size__height",value:60},{kind:"Literal",name:"size__width",value:60}],concreteType:"Image",plural:!1,selections:m},{kind:"ScalarField",alias:null,name:"top_category_name",args:null,storageKey:null},q],B={kind:"LinkedField",alias:null,name:"pending_places_for_attachment",storageKey:null,args:null,concreteType:"Page",plural:!0,selections:A};A={kind:"LinkedField",alias:null,name:"recommendation_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:A};var C={kind:"InlineFragment",type:"VideoTipJarPayment",selections:[{kind:"ScalarField",alias:null,name:"matching_quantity",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"spark_quantity",args:null,storageKey:null}]};m={kind:"InlineFragment",type:"GenericAttachmentMedia",selections:[{kind:"LinkedField",alias:"media_img",name:"image",storageKey:"image(size__height:90,size__width:90)",args:[{kind:"Literal",name:"size__height",value:90},{kind:"Literal",name:"size__width",value:90}],concreteType:"Image",plural:!1,selections:m}]};var D={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},E={kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[D,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"object_id",args:null,storageKey:null}]}]},F={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},H=[F,G],I={kind:"LinkedField",alias:null,name:"inline_style_ranges",storageKey:null,args:null,concreteType:"InlineStyleAtRange",plural:!0,selections:H};H={kind:"LinkedField",alias:null,name:"image_ranges",storageKey:null,args:null,concreteType:"ImageAtRange",plural:!0,selections:H};var J={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},K={kind:"LinkedField",alias:null,name:"aggregated_ranges",storageKey:null,args:null,concreteType:"AggregatedEntitiesAtRange",plural:!0,selections:[F,G,J]},L={kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[F,G,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]}]}]},M={kind:"ScalarField",alias:null,name:"is_author_pinned",args:null,storageKey:null},N={kind:"ScalarField",alias:null,name:"can_viewer_pin",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"can_viewer_unpin",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"can_viewer_delete",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},R={kind:"ScalarField",alias:null,name:"can_viewer_embed",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"can_viewer_edit",args:null,storageKey:null},T={kind:"ScalarField",alias:null,name:"comment_privacy_value",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},V={kind:"ScalarField",alias:null,name:"can_viewer_like",args:null,storageKey:null},W={kind:"ScalarField",alias:null,name:"can_viewer_comment",args:null,storageKey:null},X={kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"does_viewer_like",args:null,storageKey:null},Z=[J],$={kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:Z},aa={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},ba=[aa];J={kind:"LinkedField",alias:null,name:"reactions_summary",storageKey:null,args:null,concreteType:"FeedbackReactorsPerReaction",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"feedback_reaction",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!1,selections:ba},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"PerReactionReactorsOfContentConnection",plural:!1,selections:[J,{kind:"ScalarField",alias:null,name:"display_count",args:null,storageKey:null}]}]};var ca={kind:"ScalarField",alias:null,name:"reaction_count_reduced",args:null,storageKey:null},da={kind:"ScalarField",alias:null,name:"viewer_feedback_reaction_key",args:null,storageKey:null};Z={kind:"LinkedField",alias:null,name:"likers",storageKey:null,args:null,concreteType:"LikersOfContentConnection",plural:!1,selections:Z};var ea={kind:"ScalarField",alias:null,name:"is_author_non_coworker",args:null,storageKey:null},fa={kind:"ScalarField",alias:null,name:"is_featured",args:null,storageKey:null},ga={kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null},ha={kind:"ScalarField",alias:null,name:"has_constituent_badge",args:null,storageKey:null},ia={kind:"ScalarField",alias:null,name:"moderator_badge_text",args:null,storageKey:null},ja={kind:"LinkedField",alias:null,name:"identity_badges_web",storageKey:null,args:null,concreteType:"IdentityBadge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"badge_asset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"badge_color",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"multiple_badge_asset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"multiple_badge_asset_colored",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"serialized",args:null,storageKey:null},s]},ka={kind:"ScalarField",alias:null,name:"written_while_video_was_live",args:null,storageKey:null},la={kind:"ScalarField",alias:null,name:"live_streaming_comment_priority",args:null,storageKey:null},ma={kind:"LinkedField",alias:null,name:"top_level_comments",storageKey:null,args:null,concreteType:"TopLevelCommentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"total_count",args:null,storageKey:null}]},na={kind:"ScalarField",alias:null,name:"serialized_short_profiles",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UFILiveVideoCommentSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"live_video_comment_create_subscribe",storageKey:null,args:b,concreteType:"CommentCreateResponsePayload",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[e,f,g,h,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,i]},{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[j,k,{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,l,p,n,{kind:"InlineFragment",type:"ExternalUrl",selections:[o,r,{kind:"LinkedField",alias:null,name:"article_author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,q]},u,t]},{kind:"InlineFragment",type:"CommentPlaceInfo",selections:[v,w,x,y,z,B,{kind:"LinkedField",alias:null,name:"place_list_items",storageKey:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"PlaceListItem",plural:!0,selections:[A]}]}]},C]},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[m]},E]},{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[s,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[F,G,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[q]}]},I,H,K,L]},M,N,O,P,Q,R,S,T,U,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[V,W,X,Y,e,$,J,ca,{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:ba},da,Z]},ea,fa,ga,{kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[g,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e]}]},ha,ia,ja,ka,la]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[ma]},na]}]},operation:{kind:"Operation",name:"UFILiveVideoCommentSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"live_video_comment_create_subscribe",storageKey:null,args:b,concreteType:"CommentCreateResponsePayload",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[e,f,g,h,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[D,e,i]},{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[j,k,{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[D,e,l,p,n,{kind:"InlineFragment",type:"ExternalUrl",selections:[o,r,{kind:"LinkedField",alias:null,name:"article_author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[D,i,q,e]},u,t]},{kind:"InlineFragment",type:"CommentPlaceInfo",selections:[v,w,x,y,z,B,{kind:"LinkedField",alias:null,name:"place_list_items",storageKey:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"PlaceListItem",plural:!0,selections:[A,e]}]}]},C]},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[D,e,m]},E]},{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[s,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[F,G,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[D,q,e]}]},I,H,K,L]},M,N,O,P,Q,R,S,T,U,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[V,W,X,Y,e,$,J,ca,{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[aa,e]},da,Z]},ea,fa,ga,{kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[g,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[D,e]},e]},ha,ia,ja,ka,la]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[ma,e]},na]}]},params:{operationKind:"subscription",name:"UFILiveVideoCommentSubscription",id:"2225688654198410",text:null,metadata:{subscriptionName:"live_video_comment_create_subscribe"}}}}();e.exports=a}),null);
__d("UFILiveVideoCommentUpdateSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FacecastCommentUpdateSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"does_viewer_like",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},e=[d],f={kind:"LinkedField",alias:null,name:"likers",storageKey:null,args:null,concreteType:"LikersOfContentConnection",plural:!1,selections:e};e={kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:e};var g={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},h=[g];d={kind:"LinkedField",alias:null,name:"reactions_summary",storageKey:null,args:null,concreteType:"FeedbackReactorsPerReaction",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"feedback_reaction",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!1,selections:h},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"PerReactionReactorsOfContentConnection",plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"display_count",args:null,storageKey:null}]}]};var i={kind:"ScalarField",alias:null,name:"reaction_count_reduced",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"legacy_comment_token",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UFILiveVideoCommentUpdateSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"facecast_comment_update_subscribe",storageKey:null,args:b,concreteType:"FacecastCommentUpdateSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[c,f,e,d,i,{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:h},j]}]}]}]},operation:{kind:"Operation",name:"UFILiveVideoCommentUpdateSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"facecast_comment_update_subscribe",storageKey:null,args:b,concreteType:"FacecastCommentUpdateSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[c,f,e,d,i,{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[g,k]},j,k]},k]}]}]},params:{operationKind:"subscription",name:"UFILiveVideoCommentUpdateSubscription",id:"3345275305545756",text:null,metadata:{subscriptionName:"facecast_comment_update_subscribe"}}}}();e.exports=a}),null);
__d("UFILivingRoomCommentSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LivingRoomCommentCreateSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"client_subscription_id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"text_delights_are_hidden",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},l=[{kind:"Literal",name:"size__height",value:80},{kind:"Literal",name:"size__width",value:80}],m={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},p=[m,n,o],q=[{kind:"Literal",name:"size__height",value:160},{kind:"Literal",name:"size__width",value:160}];m=[m];l={kind:"InlineFragment",type:"Sticker",selections:[{kind:"LinkedField",alias:"img",name:"image",storageKey:"image(size__height:80,size__width:80)",args:l,concreteType:"Image",plural:!1,selections:p},{kind:"LinkedField",alias:"img_2x",name:"image",storageKey:"image(size__height:160,size__width:160)",args:q,concreteType:"Image",plural:!1,selections:m},{kind:"LinkedField",alias:"sprite_img",name:"sprite_image",storageKey:"sprite_image(size__height:80,size__width:80)",args:l,concreteType:"Image",plural:!1,selections:m},{kind:"LinkedField",alias:"sprite_img_2x",name:"sprite_image",storageKey:"sprite_image(size__height:160,size__width:160)",args:q,concreteType:"Image",plural:!1,selections:m},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null}]};q={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null};p={kind:"InlineFragment",type:"Photo",selections:[q,{kind:"LinkedField",alias:"photo_img",name:"image",storageKey:"image(size__width:260)",args:[{kind:"Literal",name:"size__width",value:260}],concreteType:"Image",plural:!1,selections:p}]};n={kind:"InlineFragment",type:"Video",selections:[q,n,o]};o={kind:"ScalarField",alias:null,name:"external_url",args:null,storageKey:null};var r={kind:"ScalarField",alias:null,name:"article_author_name",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},t=[s],u={kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:t},v={kind:"LinkedField",alias:null,name:"article_relative_timestamp",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:t},w={kind:"ScalarField",alias:null,name:"can_viewer_add_to_attachment",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"can_viewer_remove_from_attachment",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"can_viewer_add_suggested_to_attachment",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"can_viewer_remove_suggested_from_attachment",args:null,storageKey:null},A={kind:"ScalarField",alias:null,name:"can_viewer_curate_attachment",args:null,storageKey:null},B=[{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},e,i,{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"overall_rating",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"price_range_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__height:60,size__width:60)",args:[{kind:"Literal",name:"size__height",value:60},{kind:"Literal",name:"size__width",value:60}],concreteType:"Image",plural:!1,selections:m},{kind:"ScalarField",alias:null,name:"top_category_name",args:null,storageKey:null},q],C={kind:"LinkedField",alias:null,name:"pending_places_for_attachment",storageKey:null,args:null,concreteType:"Page",plural:!0,selections:B};B={kind:"LinkedField",alias:null,name:"recommendation_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:B};var D={kind:"InlineFragment",type:"VideoTipJarPayment",selections:[{kind:"ScalarField",alias:null,name:"matching_quantity",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"spark_quantity",args:null,storageKey:null}]};m={kind:"InlineFragment",type:"GenericAttachmentMedia",selections:[{kind:"LinkedField",alias:"media_img",name:"image",storageKey:"image(size__height:90,size__width:90)",args:[{kind:"Literal",name:"size__height",value:90},{kind:"Literal",name:"size__width",value:90}],concreteType:"Image",plural:!1,selections:m}]};var E={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},F={kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[E,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"object_id",args:null,storageKey:null}]}]},G={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},I=[G,H],J={kind:"LinkedField",alias:null,name:"inline_style_ranges",storageKey:null,args:null,concreteType:"InlineStyleAtRange",plural:!0,selections:I};I={kind:"LinkedField",alias:null,name:"image_ranges",storageKey:null,args:null,concreteType:"ImageAtRange",plural:!0,selections:I};var K={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},L={kind:"LinkedField",alias:null,name:"aggregated_ranges",storageKey:null,args:null,concreteType:"AggregatedEntitiesAtRange",plural:!0,selections:[G,H,K]},M={kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[G,H,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]}]}]},N={kind:"ScalarField",alias:null,name:"is_author_pinned",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"can_viewer_pin",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"can_viewer_unpin",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"can_viewer_delete",args:null,storageKey:null},R={kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"can_viewer_embed",args:null,storageKey:null},T={kind:"ScalarField",alias:null,name:"can_viewer_edit",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"comment_privacy_value",args:null,storageKey:null},V={kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},W={kind:"ScalarField",alias:null,name:"can_viewer_like",args:null,storageKey:null},X={kind:"ScalarField",alias:null,name:"can_viewer_comment",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"does_viewer_like",args:null,storageKey:null},$=[K],aa={kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:$},ba={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},ca=[ba];K={kind:"LinkedField",alias:null,name:"reactions_summary",storageKey:null,args:null,concreteType:"FeedbackReactorsPerReaction",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"feedback_reaction",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!1,selections:ca},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"PerReactionReactorsOfContentConnection",plural:!1,selections:[K,{kind:"ScalarField",alias:null,name:"display_count",args:null,storageKey:null}]}]};var da={kind:"ScalarField",alias:null,name:"reaction_count_reduced",args:null,storageKey:null},ea={kind:"ScalarField",alias:null,name:"viewer_feedback_reaction_key",args:null,storageKey:null};$={kind:"LinkedField",alias:null,name:"likers",storageKey:null,args:null,concreteType:"LikersOfContentConnection",plural:!1,selections:$};var fa={kind:"ScalarField",alias:null,name:"is_author_non_coworker",args:null,storageKey:null},ga={kind:"ScalarField",alias:null,name:"is_featured",args:null,storageKey:null},ha={kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null},ia={kind:"ScalarField",alias:null,name:"has_constituent_badge",args:null,storageKey:null},ja={kind:"ScalarField",alias:null,name:"moderator_badge_text",args:null,storageKey:null},ka={kind:"LinkedField",alias:null,name:"identity_badges_web",storageKey:null,args:null,concreteType:"IdentityBadge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"badge_asset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"badge_color",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"multiple_badge_asset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"multiple_badge_asset_colored",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"serialized",args:null,storageKey:null},s]},la={kind:"ScalarField",alias:null,name:"written_while_video_was_live",args:null,storageKey:null},ma={kind:"ScalarField",alias:null,name:"live_streaming_comment_priority",args:null,storageKey:null},na={kind:"LinkedField",alias:null,name:"translatability_for_viewer",storageKey:null,args:null,concreteType:"PostTranslatability",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"source_dialect_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"target_dialect_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translation_type",args:null,storageKey:null}]};t={kind:"LinkedField",alias:null,name:"translated_body_for_viewer",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:t};var oa={kind:"LinkedField",alias:null,name:"top_level_comments",storageKey:null,args:null,concreteType:"TopLevelCommentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"total_count",args:null,storageKey:null}]},pa={kind:"ScalarField",alias:null,name:"serialized_short_profiles",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UFILivingRoomCommentSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_comment_create_subscribe",storageKey:null,args:b,concreteType:"CommentCreateResponsePayload",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[e,f,g,h,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,i]},{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[j,k,{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,l,p,n,{kind:"InlineFragment",type:"ExternalUrl",selections:[o,r,{kind:"LinkedField",alias:null,name:"article_author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,q]},u,v]},{kind:"InlineFragment",type:"CommentPlaceInfo",selections:[w,x,y,z,A,C,{kind:"LinkedField",alias:null,name:"place_list_items",storageKey:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"PlaceListItem",plural:!0,selections:[B]}]}]},D]},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[m]},F]},{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[s,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[G,H,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[q]}]},J,I,L,M]},N,O,P,Q,R,S,T,U,V,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[W,X,Y,Z,e,aa,K,da,{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:ca},ea,$]},fa,ga,ha,{kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[g,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e]}]},ia,ja,ka,la,ma,na,t]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[oa]},pa]}]},operation:{kind:"Operation",name:"UFILivingRoomCommentSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_comment_create_subscribe",storageKey:null,args:b,concreteType:"CommentCreateResponsePayload",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[e,f,g,h,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[E,e,i]},{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[j,k,{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[E,e,l,p,n,{kind:"InlineFragment",type:"ExternalUrl",selections:[o,r,{kind:"LinkedField",alias:null,name:"article_author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[E,i,q,e]},u,v]},{kind:"InlineFragment",type:"CommentPlaceInfo",selections:[w,x,y,z,A,C,{kind:"LinkedField",alias:null,name:"place_list_items",storageKey:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"PlaceListItem",plural:!0,selections:[B,e]}]}]},D]},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[E,e,m]},F]},{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[s,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[G,H,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[E,q,e]}]},J,I,L,M]},N,O,P,Q,R,S,T,U,V,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[W,X,Y,Z,e,aa,K,da,{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[ba,e]},ea,$]},fa,ga,ha,{kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[g,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[E,e]},e]},ia,ja,ka,la,ma,na,t]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[oa,e]},pa]}]},params:{operationKind:"subscription",name:"UFILivingRoomCommentSubscription",id:"2834823543243250",text:null,metadata:{subscriptionName:"living_room_comment_create_subscribe"}}}}();e.exports=a}),null);
__d("FacecastStreamingCommentDelayTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setProtocol=function(a){this.$1.protocol=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,comment_id:!0,event:!0,protocol:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("FacecastStreamingCommentHealthTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentHealthLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentHealthLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentHealthLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setGqlsContext=function(a){this.$1.gqls_context=a;return this};c.setProtocol=function(a){this.$1.protocol=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,comment_id:!0,gqls_context:!0,protocol:!0,session_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("LiveVideoCurrentlyWatchingViewersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1756845024340619"};b.getQueryID=function(){return"276588582806153"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("LivingRoomAnnouncementQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2080884971983525"};b.getQueryID=function(){return"169247300451678"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("UFILiveVideoAnnouncementQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1654091934668900"};b.getQueryID=function(){return"208016373275054"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("UFILiveVideoCommentSubscription",["BaseGraphQLSubscription","relay-runtime","UFILiveVideoCommentSubscription.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g;b("relay-runtime").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionCallName()+"/feedback_id_"+a};d.getQuery=function(){return g!==void 0?g:g=b("UFILiveVideoCommentSubscription.graphql")};d.getQueryParameters=function(a){return{input:{feedback_id:a}}};d.getSubscriptionCallName=function(){return"live_video_comment_create_subscribe"};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("UFILiveVideoCommentUpdateSubscription",["BaseGraphQLSubscription","relay-runtime","UFILiveVideoCommentUpdateSubscription.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g;b("relay-runtime").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionCallName()+"/feedback_id_"+a};d.getQuery=function(){return g!==void 0?g:g=b("UFILiveVideoCommentUpdateSubscription.graphql")};d.getQueryParameters=function(a){return{input:{feedback_id:a}}};d.getSubscriptionCallName=function(){return"facecast_comment_update_subscribe"};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("UFILivingRoomCommentSubscription",["BaseGraphQLSubscription","relay-runtime","UFILivingRoomCommentSubscription.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g;b("relay-runtime").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/living_room_comment_create_subscribe/feedback_id_"+a};d.getQuery=function(){return g!==void 0?g:g=b("UFILivingRoomCommentSubscription.graphql")};d.getQueryParameters=function(a){return{input:{feedback_id:a}}};d.getSubscriptionCallName=function(){return"living_room_comment_create_subscribe"};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("UFISubscriptionUpdates",["fbt","BanzaiODS","CommentPrivacyValue","FacecastStreamingCommentDelayTypedLogger","IdentityBadgeUtils","ImmutableObject","ShortProfiles","UFICentralUpdates","UFIComments","UFIConstants","UFIReactionsUtils","UFISharedDispatcher","UFIStoryAction","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("BanzaiODS").setEntitySample("feedback",1e-4);var h={handleLiveLike:function(a,c,d){__p&&__p();b("BanzaiODS").bumpEntityKey(2966,"feedback","gql_like_received");if(!c||!c.feedback_like_subscribe)return;d=c.feedback_like_subscribe.feedback;var e=c.feedback_like_subscribe.liker;if(!d||!e)return;var f=[{actiontype:b("UFIConstants").UFIActionType.LIKE_ACTION,actorid:e.id,clientid:c.feedback_like_subscribe.client_mutation_id,entidentifier:a,likesentences:{current:d.does_viewer_like?d.viewer_likes_sentence:d.viewer_does_not_like_sentence,alternate:d.does_viewer_like?d.viewer_does_not_like_sentence:d.viewer_likes_sentence},hasviewerliked:d.does_viewer_like,likecount:d.likers.count}],g=d.reactions_summary;if(g){g=b("UFIReactionsUtils").getReactionCountMapFromSummary(d.reactions_summary);var h=d.viewer_feedback_reaction_info?d.viewer_feedback_reaction_info.key:0,i=d.reaction_count_reduced?d.reaction_count_reduced:d.reactors.count;f.push({actiontype:b("UFIConstants").UFIActionType.REACTION,actorid:e.id,clientid:c.feedback_like_subscribe.client_mutation_id,entidentifier:a,viewerreaction:h,reactioncount:d.reactors.count,reactioncountreduced:i,reactioncountmap:g,reactionsentences:{current:h?d.viewer_likes_reaction_sentence:d.viewer_does_not_like_reaction_sentence,alternate:h?d.viewer_does_not_like_reaction_sentence:d.viewer_likes_reaction_sentence}})}b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:f})},handleLiveShares:function(a,c,d){b("BanzaiODS").bumpEntityKey(2966,"feedback","gql_share_received");d=c&&c.feedback.share_count_reduced!==null;if(!d)return;d=[{actiontype:b("UFIConstants").UFIActionType.SHARE_COUNT_UPDATE_ACTION,sharecountreduced:c.feedback.share_count_reduced,entidentifier:a}];b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:d})},handleLiveComment:function(a,c,d){b("BanzaiODS").bumpEntityKey(2966,"feedback","gql_comment_received");d=c&&c.comment;if(!d)return;a=this.prepareCommentData(a,d,c.client_mutation_id);c.serialized_short_profiles&&b("ShortProfiles").setMulti(JSON.parse(c.serialized_short_profiles));b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{comments:[a]})},handleLiveStreamingComment:function(a,c,d,e){b("BanzaiODS").bumpEntityKey(2966,"feedback","gql_streaming_comment_received");var f=c&&c.comment;if(!f)return;e&&new(b("FacecastStreamingCommentDelayTypedLogger"))().setCommentID(f.legacy_fbid).setEvent("push").log();var g=this.prepareCommentData(a,f,c.client_mutation_id);c.serialized_short_profiles&&b("ShortProfiles").setMulti(JSON.parse(c.serialized_short_profiles));b("requireWeak")("UFILiveStreamingComments",function(b){b.enqueueSubscribedComment(a,{comments:[g],streamingstate:"live",priority:f.live_streaming_comment_priority},c.feedback.top_level_comments.total_count)})},handleLiveStreamingReply:function(a,c,d){b("BanzaiODS").bumpEntityKey(2966,"feedback","gql_streaming_reply_received");if(c==null)return;d=c.comment;if(d==null)return;a=this.prepareCommentData(a,d,c.client_mutation_id);c.serialized_short_profiles&&b("ShortProfiles").setMulti(JSON.parse(c.serialized_short_profiles));b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.STREAMING,{comments:[a],streamingstate:"live",priority:d.live_streaming_comment_priority})},prepareCommentData:function(a,c,d){__p&&__p();d===void 0&&(d=null);a={__typename:"saved",author:c.author.id,body:c.body,cancomment:c.feedback.can_viewer_comment,canedit:c.can_viewer_edit,canremove:c.can_viewer_delete,canreport:c.can_viewer_report,canembed:c.can_viewer_embed,ftentidentifier:a,id:c.legacy_token,fbid:c.legacy_fbid,legacyid:c.legacy_fbid,timestamp:{time:c.created_time,text:g._("a few seconds ago")},hasviewerliked:c.feedback.does_viewer_like,identityBadges:b("IdentityBadgeUtils").fromLiveVideoCommentCreateSubscription(c.identity_badges_web||[]),isauthorbot:c.isauthorbot,isauthornoncoworker:c.is_author_non_coworker,isfeatured:c.is_featured,istranslatable:c.translation_available_for_viewer,likecount:c.feedback.likers.count,viewercanlike:c.feedback.can_viewer_like,parentcommentid:c.comment_parent&&c.comment_parent.legacy_token,parentcommentauthorid:(a=c)!=null?(a=a.comment_parent)!=null?(a=a.author)!=null?a.id:a:a:a,privacy_value:b("CommentPrivacyValue")[c.comment_privacy_value],spamreplycount:0,hasConstituentBadge:c.has_constituent_badge,moderator_badge_text:c.moderator_badge_text,videoTimeOffset:c.timestamp_in_video,canviewerpin:c.can_viewer_pin,canviewerunpin:c.can_viewer_unpin,ispinnedbyauthor:c.is_author_pinned};var e=c.written_while_video_was_live;c.timestamp_in_video!=null&&e!=null&&(a.postedLiveState=e?"Live":"OnDemand");d!=null&&(a.clientid=d);if(c.attachments&&c.attachments.length){e=Object.assign({},c.attachments[0]);d=e.style_list;if(d&&d.length){var f=d[0];if(f=="sticker"){var h=e.target;a.attachment={fbid:h.id,metadata:{source_uri:h.img.uri,source_uri_2x:h.img_2x.uri,width:h.img.width,height:h.img.height,frameCount:h.frame_count,frameRate:h.frame_rate,framesPerCol:h.frames_per_column,framesPerRow:h.frames_per_row,sprite_uri:h.sprite_img&&h.sprite_img.uri,sprite_uri_2x:h.sprite_img_2x&&h.sprite_img_2x.uri},type:"sticker"}}else if(f=="photo"){h=e.target;a.attachment={fbid:h.id,metadata:{preview_uri:h.photo_img&&h.photo_img.uri,width:h.photo_img.width,height:h.photo_img.height,url:h.url},type:"photo"}}else if(f=="share"||f=="image_share")e.type="live_share",a.attachment=e;else if(f=="animated_image_share"||f=="animated_image_autoplay"||f=="animated_image_video"||f=="animated_image_video_autoplay")e.type="gif",a.attachment=e;else if(f=="video_inline")e.type="video",a.attachment=e;else if(f=="file_upload")e.type="file",a.attachment=e;else if(f=="comment_place_info")e.type="live_comment_place_info",a.attachment=e;else if(f=="donation")e.type="donation",a.attachment=e;else if(f=="TIP_JAR_PAYMENT")e.type="TIP_JAR_PAYMENT",a.attachment=e;else if(f=="chat_command_result")e.type="chat_command_result",a.attachment=e;else if(f=="COMMENT_MESSAGE_INFO")e.type="upsell_info",a.attachment=e;else if(f=="gaming_video_chat_attachment"){h=d==null?void 0:d[1];h=="marketplace_ecomm_product_item"&&(e.type="marketplace_ecomm_product_item",a.attachment=e)}}}c.translated_body_for_viewer&&(a.translationdata={sourceDialectName:c.translatability_for_viewer.source_dialect_name,targetDialectName:c.translatability_for_viewer.target_dialect_name,translatedText:c.translated_body_for_viewer,trigger:c.translatability_for_viewer.translation_type});f=c.feedback;f.reactions_summary&&(a.canviewerreact=f.can_viewer_react,a.reactioncount=f.reactors.count,a.reactioncountmap=b("UFIReactionsUtils").getReactionCountMapFromSummary(f.reactions_summary),a.reactioncountreduced=f.reaction_count_reduced?f.reaction_count_reduced:f.reactors.count,a.viewerreaction=f.viewer_feedback_reaction_info?f.viewer_feedback_reaction_info.key:0);return a},handlePinnedCommentEvent:function(a,c,d){if(c){c=h.prepareCommentData(a.ftentidentifier,c,d);b("UFIComments").setComment(c.id,new(b("ImmutableObject"))(c));b("UFISharedDispatcher").dispatch(b("UFIStoryAction").pinComment(a,c.id))}else b("UFISharedDispatcher").dispatch(b("UFIStoryAction").unpinComment(a))},handleFeedbackPinnedComment:function(a,b){var c=b.pinned_streaming_comment_pin_subscribe.pin_event.pinned_comment;b=b.pinned_streaming_comment_pin_subscribe.client_subscription_id;this.handlePinnedCommentEvent(a,c,b)},handleLivePinnedComment:function(a,b,c){c=b.pinned_comment_event_create_subscribe;if(c){c=c.pinned_comment_event.pinned_comment;b=b.client_mutation_id;this.handlePinnedCommentEvent(a,c,b)}},handleLiveCommentLike:function(a,c,d){a=c&&c.comment_like_subscribe&&c.comment_like_subscribe.feedback;if(!a)return;d=null;a.reactions_summary&&(d={reactioncount:a.reactors.count,reactioncountmap:b("UFIReactionsUtils").getReactionCountMapFromSummary(a.reactions_summary),reactioncountreduced:a.reaction_count_reduced?a.reaction_count_reduced:a.reactors.count,viewerreaction:a.viewer_feedback_reaction_info?a.viewer_feedback_reaction_info.key:0});b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:[{actiontype:b("UFIConstants").UFIActionType.COMMENT_LIKE,clientid:c.comment_like_subscribe.client_mutation_id,commentid:a.legacy_comment_token,likecount:a.likers&&a.likers.count,reactiondata:d,viewerliked:a.does_viewer_like}]})},handleFacecastCommentUpdate:function(a,c,d){a=c&&c.facecast_comment_update_subscribe&&c.facecast_comment_update_subscribe.comment&&c.facecast_comment_update_subscribe.comment.feedback;if(!a)return;d=null;a.reactions_summary&&(d={reactioncount:a.reactors.count,reactioncountmap:b("UFIReactionsUtils").getReactionCountMapFromSummary(a.reactions_summary),reactioncountreduced:a.reaction_count_reduced?a.reaction_count_reduced:a.reactors.count,viewerreaction:a.viewer_feedback_reaction_info?a.viewer_feedback_reaction_info.key:0});b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:[{actiontype:b("UFIConstants").UFIActionType.COMMENT_LIKE,commentid:a.legacy_comment_token,likecount:a.likers&&a.likers.count,reactiondata:d,viewerliked:a.does_viewer_like}]})}};e.exports=h}),null);
__d("XLiveStreamingRankingExperimentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/livecomments/exp/",{eft_id:{type:"String",required:!0}})}),null);
__d("UFILiveStreamingComments",["fbt","Arbiter","AsyncRequest","BanzaiODS","CurrentUser","EntityPresenceClient","EntityPresenceManager","FacecastStreamingCommentDelayTypedLogger","FacecastStreamingCommentHealthTypedLogger","LiveVideoCurrentlyWatchingVideoPresenceConfig","LiveVideoCurrentlyWatchingViewersQueryWebGraphQLQuery","LivingRoomAnnouncementQueryWebGraphQLQuery","LivingRoomTypedLogger","StreamingReactionsTrayEvents","TimeSlice","UFICentralUpdates","UFIConfig","UFIConstants","UFIFeedbackTargets","UFILiveStreamingCommentsConfig","UFILiveVideoAnnouncementQueryWebGraphQLQuery","UFILiveVideoCommentSubscription","UFILiveVideoCommentUpdateSubscription","UFILivingRoomCommentSubscription","UFISubscriptionUpdates","UFIToplevelStreamedCommentList","VideoBroadcastStatus","XLiveStreamingRankingExperimentAsyncController","clearInterval","gkx","setInterval","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new Map(),i=1e4,j=1e4,k=1e4,l=3e4,m=2e3;b("BanzaiODS").setEntitySample("feedback",1e-4);a=function(){__p&&__p();function a(a,c,d,e,f,g,h,l){__p&&__p();var n=this;this.eftID=a;this.totalCommentCount=c;this.tailCommentFBID=d;this.queue=[];this.ufiPayloadBuffer=[];this.fireworksAnimating=!1;this.liveVideoAnnouncements=[];this.liveVideoCachedCurrentViewers=new Set();this.liveVideoCurrentViewerFetchCounter=0;this.localCommentBodies=new Set();this.mayShortCircuitRendering=!1;this.mayLogExposure=!0;this.isViewerTheOwner=g;this.isLiveAudio=h;this.hasDisplayedFirstViewerJoinEvent=!1;this.contextArgs=l;this.interval=b("setInterval")(function(){return n.renderNextPayload()},b("UFILiveStreamingCommentsConfig").liveCommentRenderDelayMS);b("UFIFeedbackTargets").getFeedbackTarget(this.eftID,function(a){n.$1(a,l)});if(this.contextArgs.shouldLogFacecastStreamingCommentDelay){var o=b("uuid")();this.healthLoggerInterval=b("setInterval")(function(){var a=new(b("FacecastStreamingCommentHealthTypedLogger"))().setCommentID(n.tailCommentFBID).setSessionID(o);n.subscription&&a.setGqlsContext(n.subscription.getContext().transformContext);a.log()},j)}e&&(this.$2(),this.liveVideoAnnouncementFetchInterval=b("setInterval")(function(){n.$2()},k));l.showLivingRoomAnnouncements&&this.$3();if(f){if(!b("gkx")("678269")&&this.contextArgs.fluentContentToken){var p=this.contextArgs.fluentContentToken;this.liveVideoCurrentViewerFetchInterval=b("setInterval")(function(){var a=b("LiveVideoCurrentlyWatchingViewersQueryWebGraphQLQuery").getURI({video_id:p});new(b("AsyncRequest"))().setURI(a).setHandler(function(a){n.$4(a.payload)}).send();n.liveVideoCurrentViewerFetchCounter+=1},m)}!h&&b("LiveVideoCurrentlyWatchingVideoPresenceConfig").videoPresenceGK&&(this.presenceToken=(b("gkx")("1221798")?b("EntityPresenceClient"):b("EntityPresenceManager")).enter("live_video",this.eftID))}b("UFICentralUpdates").subscribe("update-comments",function(a,b){b.comments&&b.comments.length&&b.comments.forEach(function(a){if(a.parentcommentid)return;a.__typename==="local"&&n.trackLocalComment(a)})});b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").FireworksAnimating,function(a,c){n.fireworksAnimating=c,n.fireworksAnimating?(clearTimeout(n.timeoutID),n.timeoutID=setTimeout(b("TimeSlice").guard(function(){n.fireworksAnimating&&(n.fireworksAnimating=!1,b("BanzaiODS").bumpEntityKey(2966,"streaming_comments","comment_fetching_unpause_failure"))},"UFILiveStreaming fireWorksAnimatingTimeout",{propagationType:b("TimeSlice").PropagationType.EXECUTION}),i)):n.backFillComments()})}var c=a.prototype;c.$1=function(a,c){__p&&__p();var d=this,e=Date.now();if(c.icebreakerAccessTokenForCommentSubscription){this.subscription=b("UFILiveVideoCommentSubscription").subscribeWithIcebreaker_EXPERIMENTAL(a.targetfbid,function(a){return d.$5(a,e)},c.icebreakerAccessTokenForCommentSubscription);return}if(c.isActiveLivingRoom){this.subscription=b("UFILivingRoomCommentSubscription").subscribe(a.targetfbid,function(a){return d.$6(a,e)},{policy:c.livingRoomCommentSubscriptionConfig});return}this.subscription=b("UFILiveVideoCommentSubscription").subscribe(a.targetfbid,function(a){return d.$5(a,e)},{policy:this.contextArgs.facecastCommentsPolicy});((c=this.contextArgs)!=null?(c=c.liveVideoCommentUIConfig)!=null?c.enableReactionUpdates:c:c)&&(this.commentUpdateSubscription=b("UFILiveVideoCommentUpdateSubscription").subscribe(a.targetfbid,function(c){b("UFISubscriptionUpdates").handleFacecastCommentUpdate(a.targetfbid,c,Date.now()-e)}))};c.$5=function(a,c){b("UFISubscriptionUpdates").handleLiveStreamingComment(this.eftID,a.live_video_comment_create_subscribe,Date.now()-c,this.contextArgs.shouldLogFacecastStreamingCommentDelay||!1)};c.$6=function(a,c){var d=a.living_room_comment_create_subscribe.comment;d&&new(b("LivingRoomTypedLogger"))().setLivingRoomAction("comment_payload_received").setLivingRoomID(this.contextArgs.livingRoomID).addToExtraData("body",d.body&&d.body.text).addToExtraData("author",d.author.id).addToExtraData("comment_id",d.legacy_fbid).log();b("UFISubscriptionUpdates").handleLiveStreamingComment(this.eftID,a.living_room_comment_create_subscribe,Date.now()-c,this.contextArgs.shouldLogFacecastStreamingCommentDelay||!1)};c.$7=function(a){var c=a.comments[0].attachment&&a.comments[0].attachment.type==="TIP_JAR_PAYMENT";a=b("UFIConfig").tipJarCommentsNotThrottled||a.comments[0].author===b("CurrentUser").getAccountID();return c&&a};c.enqueueSubscribedComment=function(a,b){this.contextArgs.facecastDirectlyRenderComments||this.contextArgs.facecastCommentsPolicy||this.contextArgs.isActiveLivingRoom||this.$7(a)?this.$8(a):this.$9(a),this.$10(b)};c.enqueueSubscribedTipJarEvent=function(a,b){this.$9({comments:[this.$11(a,b)],streamingstate:"live",priority:0})};c.$2=function(){var a=this;if(this.liveVideoAnnouncements.length||!this.contextArgs.fluentContentToken)return;var c=this.contextArgs.source===46?"stories":"post";c=b("UFILiveVideoAnnouncementQueryWebGraphQLQuery").getURI({video_id:this.contextArgs.fluentContentToken,surface:c});new(b("AsyncRequest"))().setURI(c).setHandler(function(b){a.$12(b.payload)}).send()};c.$3=function(){var a=this,c=this.contextArgs.livingRoomID;if(!c)return;c=b("LivingRoomAnnouncementQueryWebGraphQLQuery").getURI({living_room_id:c});new(b("AsyncRequest"))().setURI(c).setHandler(function(b){a.$13(b.payload)}).send()};c.$13=function(a){a=a.data.living_room;if(!a)return;a=a.living_room_announcements;if(!a.length)return;a=a[0];this.$9({comments:[{body:{text:a.message.text},ctaAction:a.cta_action,ctaGlyphName:a.cta_glyph,ctaTextOff:a.cta_text_off,ftentidentifier:this.eftID,id:this.eftID+"_"+a.name,isAnnouncement:!0,isLivingRoomAnnouncement:!0,isJoinEvent:!1,fbid:this.eftID}],streamingstate:"live",priority:0})};c.$12=function(a){__p&&__p();var c=this,d;a=a.data.video;if(!a){b("clearInterval")(this.liveVideoAnnouncementFetchInterval);b("clearInterval")(this.liveVideoAnnouncementRenderInterval);return}a=a.announcements.edges;if(!a.length)return;(d=this.liveVideoAnnouncements).push.apply(d,a);this.liveVideoAnnouncementRenderInterval||(this.$14(),this.liveVideoAnnouncementRenderInterval=b("setInterval")(function(){c.$14()},l))};c.$14=function(){if(this.liveVideoAnnouncements.length){var a=this.liveVideoAnnouncements.pop();this.$9({comments:[this.$15(a)],streamingstate:"live",priority:0})}};c.$4=function(a){__p&&__p();a=a.data.video;if(!a||a.broadcast_status!==b("VideoBroadcastStatus").LIVE){b("clearInterval")(this.liveVideoCurrentViewerFetchInterval);return}a=a.live_video_current_viewers.edges;if(!a.length)return;var c,d,e=[];for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i.node.id;!this.liveVideoCachedCurrentViewers.has(j)&&i.node.name&&(c||(c=i.node.id,d=(i.node.profile_picture||{}).uri),e.push(i.node.name))}for(var j=a,i=Array.isArray(j),h=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(h>=j.length)break;g=j[h++]}else{h=j.next();if(h.done)break;g=h.value}f=g;a=f.node.id;this.liveVideoCachedCurrentViewers.add(a)}if(!c)return;g=this.$16(c,d,e);this.$9({comments:[g],streamingstate:"live",priority:0})};c.handleWatchingStoreJoinEvents=function(a,b){var c=this,d,e,f=[];b.forEach(function(a){c.liveVideoCachedCurrentViewers.has(a.uniqueID)||(d||(d=a.uniqueID,e=a.profilePicURI),f.push(a.name),c.liveVideoCachedCurrentViewers.add(a.uniqueID))});if(!d)return;a=this.$16(d,e,f);this.$9({comments:[a],streamingstate:"live",priority:0})};c.$16=function(a,b,c){var d=!1;!this.isViewerTheOwner&&!this.hasDisplayedFirstViewerJoinEvent&&(this.hasDisplayedFirstViewerJoinEvent=!0,d=!0);return{accentColor:null,ctaAction:"none",ctaGlyphName:null,ctaGlyphNameOff:null,ctaLink:null,ctaState:!1,ctaTextOff:"",ctaTextOn:"",ftentidentifier:this.eftID,glyphName:null,id:this.eftID+a+"_"+this.liveVideoCurrentViewerFetchCounter,image:b,isAnnouncement:!0,isJoinEvent:!0,joinEventData:{isFirstViewerJoinEvent:d,isLiveAudio:this.isLiveAudio,newlyJoinedViewerNames:c},targetID:null}};c.$11=function(a,b){b=b.tip_jar_tip_event_subscribe.tip_jar_transaction;return{author:b.tip_giver.id,body:{text:g._("sent {The amount of the gift money}!",[g._param("The amount of the gift money",b.currency_quantity_tipped.formatted)])},cancomment:!1,ftentidentifier:a.targetfbid,id:a.targetfbid+"_"+b.id,fbid:b.id,tipOptionIndex:b.tip_option_index.toString(),__typename:"saved"}};c.$15=function(a){a=a.node;return{accentColor:a.accent_color,body:{text:a.message},broadcastSubscriptionStatus:a.broadcast_subscription_status,ctaAction:a.cta_action,ctaGlyphName:a.cta_glyph,ctaGlyphNameOff:a.cta_glyph_off,ctaLink:a.cta_link,ctaState:a.cta_state,ctaTextOff:a.cta_text_off,ctaTextOn:a.cta_text_on,ftentidentifier:this.eftID,glyphName:a.glyph_name,id:this.eftID+a.name+a.level,image:a.image,isAnnouncement:!0,isJoinEvent:!1,targetID:a.target&&a.target.id}};c.$9=function(c){var d=this;if(this.resemblesLocalComment(c.comments[0]))return;this.tailCommentFBID=c.comments[0].fbid;this.queue.push(c);this.queue=a.pruneQueue(this.queue);this.queue.length===1&&this.mayShortCircuitRendering&&(b("BanzaiODS").bumpEntityKey(2966,"streaming_comments","short_circuit_render"),b("clearInterval")(this.interval),this.renderNextPayload(),this.interval=b("setInterval")(function(){return d.renderNextPayload()},b("UFILiveStreamingCommentsConfig").liveCommentRenderDelayMS))};c.$8=function(a){if(this.resemblesLocalComment(a.comments[0]))return;this.tailCommentFBID=a.comments[0].fbid;this.renderPayload(a)};c.$10=function(a){a=a-this.queue.length;a>this.totalCommentCount&&(this.totalCommentCount=a,b("UFIToplevelStreamedCommentList").getCommentList(this.eftID).updateCommentCount(this.totalCommentCount))};c.$17=function(){var a=b("UFIToplevelStreamedCommentList").getCommentList(this.eftID);while(this.queue.length){var c=this.queue.shift();if(!a.hasComment(c.comments[0]))return c}return null};c.renderPayload=function(a){if(!a){this.mayShortCircuitRendering=!0;return}this.fireworksAnimating?this.ufiPayloadBuffer.push(a):(b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.STREAMING,a),this.contextArgs.shouldLogFacecastStreamingCommentDelay&&new(b("FacecastStreamingCommentDelayTypedLogger"))().setCommentID(a.comments[0].fbid).setEvent("render").log(),this.contextArgs.isActiveLivingRoom&&new(b("LivingRoomTypedLogger"))().setLivingRoomAction("comment_payload_rendered").setLivingRoomID(this.contextArgs.livingRoomID).addToExtraData("body",a.comments[0].body&&a.comments[0].body.text).addToExtraData("author",a.comments[0].author).addToExtraData("comment_id",a.comments[0].fbid).log(),b("BanzaiODS").bumpEntityKey(2966,"feedback","facecast_live_comment_rendered"));this.mayShortCircuitRendering=!1;b("CurrentUser").isLoggedIn()&&this.mayLogExposure&&(new(b("AsyncRequest"))().setURI(b("XLiveStreamingRankingExperimentAsyncController").getURIBuilder().setString("eft_id",this.eftID).getURI()).send(),this.mayLogExposure=!1)};c.renderNextPayload=function(){this.renderPayload(this.$17())};c.backFillComments=function(){__p&&__p();for(var a=this.ufiPayloadBuffer,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.STREAMING,e)}this.ufiPayloadBuffer=[]};c.trackLocalComment=function(b){b=a.hashCommentData(b);this.localCommentBodies.add(b)};c.resemblesLocalComment=function(b){if(b.isAnnouncement)return!1;b=a.hashCommentData(b);return this.localCommentBodies.has(b)};c.stopStream=function(){var a;(a=b("clearInterval"))(this.interval);a(this.healthLoggerInterval);a(this.liveVideoAnnouncementFetchInterval);a(this.liveVideoAnnouncementRenderInterval);this.subscription&&this.subscription.unsubscribe();this.commentUpdateSubscription&&this.commentUpdateSubscription.unsubscribe();this.presenceToken&&this.presenceToken.leave();h["delete"](this.eftID)};a.hashCommentData=function(a){var b=a.author;a.body&&(b+=":"+a.body.text);a.attachment&&(b+=":"+a.attachment.fbid);return b};a.pruneQueue=function(a){__p&&__p();var c=a.length-b("UFIConfig").facecastWWWCommentQueueThreshold;if(c<=0)return a;var d=a.map(function(a,b){return{index:b,priority:a.priority}}).sort(function(a,b){var c=a.priority-b.priority;return c!==0?c:a.index-b.index}).map(function(a){return a.index}).slice(0,c);return a.filter(function(a,b){return d.indexOf(b)===-1})};a.start=function(b,c,d,e,f,g,i,j){var k=h.get(b),l=!k||!k.liveVideoAnnouncementFetchInterval&&e||!k.liveVideoCurrentViewerFetchInterval&&f;if(!l)return;k&&k.stopStream();h.set(b,new a(b,c,d,e,f,g,i,j))};a.enqueueSubscribedComment=function(a,b,c){a=h.get(a);if(!a)return;a.enqueueSubscribedComment(b,c)};a.enqueueLiveJoinEventComment=function(a,b){var c=h.get(a);if(!c||!c.showLiveVideoBroadcastingJoinEvents)return;c.handleWatchingStoreJoinEvents(a,b)};a.enqueueSubscribedTipJarEvent=function(a,b){var c=h.get(a.targetfbid);if(!c)return;c.enqueueSubscribedTipJarEvent(a,b)};a.stop=function(a){a=h.get(a);if(!a)return;a.stopStream()};return a}();e.exports=a}),null);
__d("UFILiveVideoAutoscrollHandler",["DOM","UFIConstants","UFINewCommentsPillUtils","UFIUnseenCommentsStore","getOrCreateDOMID","queryThenMutateDOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.$2=function(a){a=b("DOM").scry(a,".UFILastComment");a=a.length>0?a[0]:null;var c=a?b("getOrCreateDOMID")(a):null;if(c===null||c===this.$1)return null;this.$1=c;return a};c.manageScroll=function(a,c,d,e){var f=this,g,h,i,j=0;b("queryThenMutateDOM")(function(){g=a.scrollHeight;h=a.offsetHeight;i=a.scrollTop;var b=f.$2(a);b&&(j=b.offsetHeight)},function(){var f=b("UFIUnseenCommentsStore").getCommentReactionsMenuShown(c.instanceid),k=g-h-i-j;d||k<b("UFIConstants").maxScrollDistanceForAutoScroll&&!f?(a.scrollTop=g-h,e&&e()):j>0&&b("UFINewCommentsPillUtils").updateScrolledUp(a,c)})};return a}();e.exports=a}),null);